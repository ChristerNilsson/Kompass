// Generated by CoffeeScript 2.7.0
var requestPermission, startCompass;

requestPermission = function() {
  if (typeof (typeof DeviceOrientationEvent !== "undefined" && DeviceOrientationEvent !== null ? DeviceOrientationEvent.requestPermission : void 0) === 'function') {
    return DeviceOrientationEvent.requestPermission().then(function(response) {
      if (response === 'granted') {
        return startCompass();
      } else {
        return document.getElementById('output').innerText = "Tillgång nekades.";
      }
    });
  } else {
    return startCompass();
  }
};

startCompass = function() {
  return window.addEventListener('deviceorientation', function(event) {
    var alpha, ref;
    alpha = (ref = event != null ? event.webkitCompassHeading : void 0) != null ? ref : event != null ? event.alpha : void 0;
    if (alpha != null) {
      return document.getElementById('output').innerText = `Kompassriktning: ${Math.round(alpha)}°`;
    } else {
      return document.getElementById('output').innerText = "Ingenkompassdata tillgängling";
    }
  });
};

document.getElementById('startBtn').addEventListener('click', function() {
  return requestPermission();
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6IlxcIiwic291cmNlcyI6WyJza2V0Y2guY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLGlCQUFBLEVBQUE7O0FBQUEsaUJBQUEsR0FBb0IsUUFBQSxDQUFBLENBQUE7RUFDbkIsSUFBRywyRkFBTyxzQkFBc0IsQ0FBRSwyQkFBL0IsS0FBb0QsVUFBdkQ7V0FDQyxzQkFBc0IsQ0FBQyxpQkFBdkIsQ0FBQSxDQUEwQyxDQUFDLElBQTNDLENBQWdELFFBQUEsQ0FBQyxRQUFELENBQUE7TUFDL0MsSUFBRyxRQUFBLEtBQVksU0FBZjtlQUNDLFlBQUEsQ0FBQSxFQUREO09BQUEsTUFBQTtlQUdDLFFBQVEsQ0FBQyxjQUFULENBQXdCLFFBQXhCLENBQWlDLENBQUMsU0FBbEMsR0FBOEMsb0JBSC9DOztJQUQrQyxDQUFoRCxFQUREO0dBQUEsTUFBQTtXQU9DLFlBQUEsQ0FBQSxFQVBEOztBQURtQjs7QUFVcEIsWUFBQSxHQUFlLFFBQUEsQ0FBQSxDQUFBO1NBQ2QsTUFBTSxDQUFDLGdCQUFQLENBQXdCLG1CQUF4QixFQUE2QyxRQUFBLENBQUMsS0FBRCxDQUFBO0FBQzlDLFFBQUEsS0FBQSxFQUFBO0lBQUUsS0FBQSwrRkFBc0MsS0FBSyxDQUFFO0lBQzdDLElBQUcsYUFBSDthQUNDLFFBQVEsQ0FBQyxjQUFULENBQXdCLFFBQXhCLENBQWlDLENBQUMsU0FBbEMsR0FBOEMsQ0FBQSxpQkFBQSxDQUFBLENBQW9CLElBQUksQ0FBQyxLQUFMLENBQVcsS0FBWCxDQUFwQixDQUFBLENBQUEsRUFEL0M7S0FBQSxNQUFBO2FBR0MsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsUUFBeEIsQ0FBaUMsQ0FBQyxTQUFsQyxHQUE4QyxnQ0FIL0M7O0VBRjRDLENBQTdDO0FBRGM7O0FBUWYsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsVUFBeEIsQ0FBbUMsQ0FBQyxnQkFBcEMsQ0FBcUQsT0FBckQsRUFBOEQsUUFBQSxDQUFBLENBQUE7U0FBRyxpQkFBQSxDQUFBO0FBQUgsQ0FBOUQiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1ZXN0UGVybWlzc2lvbiA9IC0+XHJcblx0aWYgdHlwZW9mIERldmljZU9yaWVudGF0aW9uRXZlbnQ/LnJlcXVlc3RQZXJtaXNzaW9uIGlzICdmdW5jdGlvbidcclxuXHRcdERldmljZU9yaWVudGF0aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24oKS50aGVuIChyZXNwb25zZSkgLT5cclxuXHRcdFx0aWYgcmVzcG9uc2UgaXMgJ2dyYW50ZWQnXHJcblx0XHRcdFx0c3RhcnRDb21wYXNzKClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXRwdXQnKS5pbm5lclRleHQgPSBcIlRpbGxnw6VuZyBuZWthZGVzLlwiXHJcblx0ZWxzZVxyXG5cdFx0c3RhcnRDb21wYXNzKClcclxuXHJcbnN0YXJ0Q29tcGFzcyA9IC0+XHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIgJ2RldmljZW9yaWVudGF0aW9uJywgKGV2ZW50KSAtPlxyXG5cdFx0YWxwaGEgPSBldmVudD8ud2Via2l0Q29tcGFzc0hlYWRpbmcgPyBldmVudD8uYWxwaGFcclxuXHRcdGlmIGFscGhhP1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0JykuaW5uZXJUZXh0ID0gXCJLb21wYXNzcmlrdG5pbmc6ICN7TWF0aC5yb3VuZChhbHBoYSl9wrBcIlxyXG5cdFx0ZWxzZVx0XHJcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXRwdXQnKS5pbm5lclRleHQgPSBcIkluZ2Vua29tcGFzc2RhdGEgdGlsbGfDpG5nbGluZ1wiXHJcblxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRCdG4nKS5hZGRFdmVudExpc3RlbmVyICdjbGljaycsIC0+IHJlcXVlc3RQZXJtaXNzaW9uKClcclxuIl19
//# sourceURL=c:\github\Kompass\sketch.coffee