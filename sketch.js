// Generated by CoffeeScript 2.7.0
var requestPermission, startCompass;

requestPermission = function() {
  if (typeof (typeof DeviceOrientationEvent !== "undefined" && DeviceOrientationEvent !== null ? DeviceOrientationEvent.requestPermission : void 0) === 'function') {
    return DeviceOrientationEvent.requestPermission().then(function(response) {
      if (response === 'granted') {
        return startCompass();
      } else {
        return document.getElementById('output').innerText = "Tillgång nekades.";
      }
    });
  } else {
    return startCompass();
  }
};

startCompass = function() {
  return window.addEventListener('deviceorientation', function(event) {
    var alpha;
    alpha = event.alpha;
    if (alpha != null) {
      return document.getElementById('output').innerText = `Kompassriktning: ${Math.round(alpha)}°`;
    }
  });
};

document.getElementById('startBtn').addEventListener('click', function() {
  return requestPermission();
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6IlxcIiwic291cmNlcyI6WyJza2V0Y2guY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLGlCQUFBLEVBQUE7O0FBQUEsaUJBQUEsR0FBb0IsUUFBQSxDQUFBLENBQUE7RUFDbkIsSUFBRywyRkFBTyxzQkFBc0IsQ0FBRSwyQkFBL0IsS0FBb0QsVUFBdkQ7V0FDQyxzQkFBc0IsQ0FBQyxpQkFBdkIsQ0FBQSxDQUEwQyxDQUFDLElBQTNDLENBQWdELFFBQUEsQ0FBQyxRQUFELENBQUE7TUFDL0MsSUFBRyxRQUFBLEtBQVksU0FBZjtlQUNDLFlBQUEsQ0FBQSxFQUREO09BQUEsTUFBQTtlQUdDLFFBQVEsQ0FBQyxjQUFULENBQXdCLFFBQXhCLENBQWlDLENBQUMsU0FBbEMsR0FBOEMsb0JBSC9DOztJQUQrQyxDQUFoRCxFQUREO0dBQUEsTUFBQTtXQU9DLFlBQUEsQ0FBQSxFQVBEOztBQURtQjs7QUFVcEIsWUFBQSxHQUFlLFFBQUEsQ0FBQSxDQUFBO1NBQ2QsTUFBTSxDQUFDLGdCQUFQLENBQXdCLG1CQUF4QixFQUE2QyxRQUFBLENBQUMsS0FBRCxDQUFBO0FBQzlDLFFBQUE7SUFBRSxLQUFBLEdBQVEsS0FBSyxDQUFDO0lBQ2QsSUFBMEYsYUFBMUY7YUFBQSxRQUFRLENBQUMsY0FBVCxDQUF3QixRQUF4QixDQUFpQyxDQUFDLFNBQWxDLEdBQThDLENBQUEsaUJBQUEsQ0FBQSxDQUFvQixJQUFJLENBQUMsS0FBTCxDQUFXLEtBQVgsQ0FBcEIsQ0FBQSxDQUFBLEVBQTlDOztFQUY0QyxDQUE3QztBQURjOztBQUtmLFFBQVEsQ0FBQyxjQUFULENBQXdCLFVBQXhCLENBQW1DLENBQUMsZ0JBQXBDLENBQXFELE9BQXJELEVBQThELFFBQUEsQ0FBQSxDQUFBO1NBQzdELGlCQUFBLENBQUE7QUFENkQsQ0FBOUQiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1ZXN0UGVybWlzc2lvbiA9IC0+XHJcblx0aWYgdHlwZW9mIERldmljZU9yaWVudGF0aW9uRXZlbnQ/LnJlcXVlc3RQZXJtaXNzaW9uIGlzICdmdW5jdGlvbidcclxuXHRcdERldmljZU9yaWVudGF0aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24oKS50aGVuIChyZXNwb25zZSkgLT5cclxuXHRcdFx0aWYgcmVzcG9uc2UgaXMgJ2dyYW50ZWQnXHJcblx0XHRcdFx0c3RhcnRDb21wYXNzKClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXRwdXQnKS5pbm5lclRleHQgPSBcIlRpbGxnw6VuZyBuZWthZGVzLlwiXHJcblx0ZWxzZVxyXG5cdFx0c3RhcnRDb21wYXNzKClcclxuXHJcbnN0YXJ0Q29tcGFzcyA9IC0+XHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIgJ2RldmljZW9yaWVudGF0aW9uJywgKGV2ZW50KSAtPlxyXG5cdFx0YWxwaGEgPSBldmVudC5hbHBoYVxyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ291dHB1dCcpLmlubmVyVGV4dCA9IFwiS29tcGFzc3Jpa3RuaW5nOiAje01hdGgucm91bmQoYWxwaGEpfcKwXCIgaWYgYWxwaGE/XHJcblxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRCdG4nKS5hZGRFdmVudExpc3RlbmVyICdjbGljaycsIC0+XHJcblx0cmVxdWVzdFBlcm1pc3Npb24oKVxyXG4iXX0=
//# sourceURL=c:\github\2025\011-Kompass\sketch.coffee